# Generated by Dagster Code Generator
# Generation Metadata:
# - Pipeline Name: check_pcd_sftp_folder_pipeline
# - Description: No description provided.
# - Pattern: fanout_fanin
# - Schedule Configuration: Disabled
# - Executor Type: k8s_job_executor
# - IO Manager: fs_io_manager
# - Dagster Version: 1.5.0
# - Use Assets: False
# - Required Resources: email, kubernetes, http

from dagster import (
    job,
    op,
    Out,
    In,
    RetryPolicy,
    fs_io_manager,
    k8s_job_executor,
    in_process_executor,
    resource,
)

@resource
def sftp_folder_check():
    pass

@resource
def shared_folder_check():
    pass

@resource
def financial_expense_api():
    pass

@resource
def upcc_financial_reporting_api():
    pass

@resource
def chc_financial_reporting_api():
    pass

@resource
def pcn_financial_reporting_api():
    pass

@resource
def nppcc_financial_reporting_api():
    pass

@resource
def fiscal_year_reporting_dates_api():
    pass

@resource
def upcc_patient_services_api():
    pass

@resource
def chc_patient_services_api():
    pass

@resource
def practitioner_role_mapping_api():
    pass

@resource
def status_tracker_api():
    pass

@resource
def hr_records_api():
    pass

@resource
def provincial_risk_tracking_api():
    pass

@resource
def decision_log_api():
    pass

@resource
def ha_hierarchy_api():
    pass

@resource
def uppc_budget_api():
    pass

@resource
def chc_budget_api():
    pass

@resource
def pcn_budget_api():
    pass

@resource
def nppcc_budget_api():
    pass

@resource
def kubernetes_jobs():
    pass

@resource
def email_notification():
    pass

@op(
    name="check_pcd_sftp_folder",
    required_resource_keys={"sftp_folder_check"},
    executor_def=k8s_job_executor,
)
def check_pcd_sftp_folder(context):
    """Check PCD SFTP Folder"""
    context.log.info("Checking PCD SFTP Folder")
    # Add your logic here
    return "SFTP Folder Checked"

@op(
    name="check_pcd_shared_folder",
    required_resource_keys={"shared_folder_check"},
    executor_def=k8s_job_executor,
)
def check_pcd_shared_folder(context, sftp_folder_result):
    """Check PCD Shared Folder"""
    context.log.info("Checking PCD Shared Folder")
    # Add your logic here
    return "Shared Folder Checked"

@op(
    name="start_pcd_extract_1",
    executor_def=in_process_executor,
)
def start_pcd_extract_1(context, shared_folder_result):
    """Start PCD Extract 1"""
    context.log.info("Starting PCD Extract 1")
    # Add your logic here
    return "PCD Extract 1 Started"

@op(
    name="parallel_http_api_extraction",
    required_resource_keys={
        "financial_expense_api",
        "upcc_financial_reporting_api",
        "chc_financial_reporting_api",
        "pcn_financial_reporting_api",
        "nppcc_financial_reporting_api",
        "fiscal_year_reporting_dates_api",
        "upcc_patient_services_api",
        "chc_patient_services_api",
        "practitioner_role_mapping_api",
        "status_tracker_api",
        "hr_records_api",
        "provincial_risk_tracking_api",
        "decision_log_api",
        "ha_hierarchy_api",
        "uppc_budget_api",
        "chc_budget_api",
        "pcn_budget_api",
        "nppcc_budget_api",
    },
    executor_def=in_process_executor,
)
def parallel_http_api_extraction(context, extract_1_result):
    """Parallel HTTP API Extraction"""
    context.log.info("Performing Parallel HTTP API Extraction")
    # Add your logic here
    return "API Extraction Completed"

@op(
    name="start_pcd_extract_2",
    executor_def=in_process_executor,
)
def start_pcd_extract_2(context, api_extraction_result):
    """Start PCD Extract 2"""
    context.log.info("Starting PCD Extract 2")
    # Add your logic here
    return "PCD Extract 2 Started"

@op(
    name="pcd_file_upload",
    required_resource_keys={"kubernetes_jobs"},
    executor_def=k8s_job_executor,
)
def pcd_file_upload(context, extract_2_result):
    """PCD File Upload"""
    context.log.info("Uploading PCD File")
    # Add your logic here
    return "File Uploaded"

@op(
    name="etl_notification",
    required_resource_keys={"email_notification"},
    executor_def=in_process_executor,
)
def etl_notification(context, upload_result, sftp_folder_result, shared_folder_result, extract_1_result, api_extraction_result, extract_2_result):
    """ETL Notification"""
    context.log.info("Sending ETL Notification")
    # Add your logic here
    return "Notification Sent"

@job(
    name="check_pcd_sftp_folder_pipeline",
    description="No description provided.",
    executor_def=k8s_job_executor,
    resource_defs={
        "sftp_folder_check": sftp_folder_check,
        "shared_folder_check": shared_folder_check,
        "financial_expense_api": financial_expense_api,
        "upcc_financial_reporting_api": upcc_financial_reporting_api,
        "chc_financial_reporting_api": chc_financial_reporting_api,
        "pcn_financial_reporting_api": pcn_financial_reporting_api,
        "nppcc_financial_reporting_api": nppcc_financial_reporting_api,
        "fiscal_year_reporting_dates_api": fiscal_year_reporting_dates_api,
        "upcc_patient_services_api": upcc_patient_services_api,
        "chc_patient_services_api": chc_patient_services_api,
        "practitioner_role_mapping_api": practitioner_role_mapping_api,
        "status_tracker_api": status_tracker_api,
        "hr_records_api": hr_records_api,
        "provincial_risk_tracking_api": provincial_risk_tracking_api,
        "decision_log_api": decision_log_api,
        "ha_hierarchy_api": ha_hierarchy_api,
        "uppc_budget_api": uppc_budget_api,
        "chc_budget_api": chc_budget_api,
        "pcn_budget_api": pcn_budget_api,
        "nppcc_budget_api": nppcc_budget_api,
        "kubernetes_jobs": kubernetes_jobs,
        "email_notification": email_notification,
    },
)
def check_pcd_sftp_folder_pipeline():
    sftp_folder_result = check_pcd_sftp_folder()
    shared_folder_result = check_pcd_shared_folder(sftp_folder_result)
    extract_1_result = start_pcd_extract_1(shared_folder_result)
    api_extraction_result = parallel_http_api_extraction(extract_1_result)
    extract_2_result = start_pcd_extract_2(api_extraction_result)
    upload_result = pcd_file_upload(extract_2_result)
    etl_notification(upload_result, sftp_folder_result, shared_folder_result, extract_1_result, api_extraction_result, extract_2_result)