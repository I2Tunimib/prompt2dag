# Generated by Dagster Code Generator
# Generation Metadata
# - Pipeline Name: check_pcd_sftp_folder_pipeline
# - Description: Comprehensive Pipeline Description
# - Pattern: fanout_fanin
# - Schedule Configuration: Disabled, Expression: {{var.value.pcd_etl_schedule}}, Timezone: UTC, Catchup: False
# - Orchestrator-Specific Configuration: job_name: check_pcd_sftp_folder_pipeline, executor_type: k8s_job_executor, io_manager: fs_io_manager, dagster_version: 1.5.0, use_assets: False, required_resources: [email_system, kubernetes_cluster, http_endpoints]

from dagster import job, op, Out, In, RetryPolicy, k8s_job_executor, in_process_executor, fs_io_manager, resource

@resource
def email_system():
    pass

@resource
def kubernetes_cluster():
    pass

@resource
def http_endpoints():
    pass

@op(
    name="check_pcd_sftp_folder",
    description="Check PCD SFTP Folder",
    executor_def=k8s_job_executor,
    retry_policy=RetryPolicy(max_retries=0)
)
def check_pcd_sftp_folder(context):
    """Check the PCD SFTP folder for new files."""
    context.log.info("Checking PCD SFTP folder")
    # Placeholder for actual implementation
    return "SFTP folder checked"

@op(
    name="check_pcd_shared_folder",
    description="Check PCD Shared Folder",
    executor_def=k8s_job_executor,
    retry_policy=RetryPolicy(max_retries=0)
)
def check_pcd_shared_folder(context, sftp_result):
    """Check the PCD shared folder for new files."""
    context.log.info("Checking PCD shared folder")
    # Placeholder for actual implementation
    return "Shared folder checked"

@op(
    name="start_pcd_extract_1",
    description="Start PCD Extract 1",
    executor_def=in_process_executor,
    retry_policy=RetryPolicy(max_retries=0)
)
def start_pcd_extract_1(context, shared_folder_result):
    """Start the first PCD extraction process."""
    context.log.info("Starting PCD Extract 1")
    # Placeholder for actual implementation
    return "PCD Extract 1 started"

@op(
    name="parallel_http_api_extraction",
    description="Parallel HTTP API Extraction",
    executor_def=in_process_executor,
    retry_policy=RetryPolicy(max_retries=0)
)
def parallel_http_api_extraction(context, extract_1_result):
    """Perform parallel HTTP API extraction."""
    context.log.info("Performing parallel HTTP API extraction")
    # Placeholder for actual implementation
    return "HTTP API extraction completed"

@op(
    name="start_pcd_extract_2",
    description="Start PCD Extract 2",
    executor_def=in_process_executor,
    retry_policy=RetryPolicy(max_retries=0)
)
def start_pcd_extract_2(context, api_extraction_result):
    """Start the second PCD extraction process."""
    context.log.info("Starting PCD Extract 2")
    # Placeholder for actual implementation
    return "PCD Extract 2 started"

@op(
    name="pcd_file_upload",
    description="PCD File Upload",
    executor_def=k8s_job_executor,
    retry_policy=RetryPolicy(max_retries=0)
)
def pcd_file_upload(context, extract_2_result):
    """Upload PCD files to the target location."""
    context.log.info("Uploading PCD files")
    # Placeholder for actual implementation
    return "PCD files uploaded"

@op(
    name="etl_notification",
    description="ETL Notification",
    executor_def=in_process_executor,
    retry_policy=RetryPolicy(max_retries=0)
)
def etl_notification(context, sftp_result, shared_folder_result, extract_1_result, api_extraction_result, extract_2_result, upload_result):
    """Send a notification upon completion of the ETL process."""
    context.log.info("Sending ETL notification")
    # Placeholder for actual implementation
    return "ETL notification sent"

@job(
    name="check_pcd_sftp_folder_pipeline",
    description="Comprehensive Pipeline Description",
    executor_def=k8s_job_executor,
    resource_defs={
        "email_system": email_system,
        "kubernetes_cluster": kubernetes_cluster,
        "http_endpoints": http_endpoints,
        "io_manager": fs_io_manager
    }
)
def check_pcd_sftp_folder_pipeline():
    sftp_result = check_pcd_sftp_folder()
    shared_folder_result = check_pcd_shared_folder(sftp_result)
    extract_1_result = start_pcd_extract_1(shared_folder_result)
    api_extraction_result = parallel_http_api_extraction(extract_1_result)
    extract_2_result = start_pcd_extract_2(api_extraction_result)
    upload_result = pcd_file_upload(extract_2_result)
    etl_notification(sftp_result, shared_folder_result, extract_1_result, api_extraction_result, extract_2_result, upload_result)