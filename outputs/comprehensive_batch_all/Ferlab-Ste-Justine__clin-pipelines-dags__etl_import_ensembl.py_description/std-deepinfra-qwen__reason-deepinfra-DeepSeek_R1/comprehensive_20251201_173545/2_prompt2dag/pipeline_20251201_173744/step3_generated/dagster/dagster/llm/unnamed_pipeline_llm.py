# Generated by Dagster Code Generator
# Generation Metadata:
# - Generated on: 2023-10-05
# - Dagster Version: 1.5.0
# - Executor Type: in_process_executor
# - IO Manager: fs_io_manager

from dagster import job, op, In, Out, ResourceDefinition, fs_io_manager, s3_resource, RetryPolicy, Failure, success_hook, failure_hook

# Resources
ensembl_ftp = ResourceDefinition.mock_resource()
s3_datalake = s3_resource
slack_notifications = ResourceDefinition.mock_resource()
k8s_etl_context = ResourceDefinition.mock_resource()

# Hooks
@success_hook(required_resource_keys={"slack_notifications"})
def notify_success(context):
    """Notify Slack on job success."""
    context.resources.slack_notifications.send_message(f"Job {context.job_name} succeeded.")

@failure_hook(required_resource_keys={"slack_notifications"})
def notify_failure(context):
    """Notify Slack on job failure."""
    context.resources.slack_notifications.send_message(f"Job {context.job_name} failed.")

# Ops
@op(
    description="No description provided.",
    ins={"input_data": In(str)},
    out=Out(str),
    required_resource_keys={"ensembl_ftp"},
    retry_policy=RetryPolicy(max_retries=3, delay=5)
)
def example_op(context, input_data: str) -> str:
    """Example operation to demonstrate the pipeline structure."""
    context.log.info(f"Processing input data: {input_data}")
    # Simulate some processing
    processed_data = input_data.upper()
    return processed_data

# Job
@job(
    name="unnamed_pipeline",
    description="No description provided.",
    executor_def=ResourceDefinition.in_process_executor(),
    resource_defs={
        "io_manager": fs_io_manager,
        "ensembl_ftp": ensembl_ftp,
        "s3_datalake": s3_datalake,
        "slack_notifications": slack_notifications,
        "k8s_etl_context": k8s_etl_context
    },
    hooks=[notify_success, notify_failure]
)
def unnamed_pipeline():
    """No description provided."""
    example_op()

# Schedule Configuration
# Note: Schedule is disabled as per the provided configuration
# schedule = ScheduleDefinition(
#     name="unnamed_pipeline_schedule",
#     cron_schedule=None,
#     job=unnamed_pipeline,
#     execution_timezone="UTC",
#     should_execute=lambda: False,
#     catchup=False
# )