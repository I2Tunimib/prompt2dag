# Generated by Dagster Code Generator
# Generation Metadata:
# - Job Name: print_configuration_pipeline
# - Description: No description provided.
# - Executor Type: in_process_executor
# - IO Manager: fs_io_manager
# - Dagster Version: 1.5.0
# - Use Assets: False
# - Required Resources: airflow_metadb, airflow_variables, xcom

from dagster import job, op, Out, In, RetryPolicy, resource, fs_io_manager, in_process_executor, schedule

# Resources
@resource
def airflow_metastore():
    """Resource for Airflow MetaStore Database."""
    pass

@resource
def airflow_variables():
    """Resource for Airflow Variables."""
    pass

@resource
def email_alerts():
    """Resource for Email Alerts."""
    pass

# Ops
@op(
    out=Out(str, description="Configuration details"),
    retry_policy=RetryPolicy(max_retries=1),
    required_resource_keys={"airflow_variables", "email_alerts"}
)
def print_configuration(context):
    """Prints the configuration details."""
    config_details = "Configuration details go here"
    context.log.info(config_details)
    return config_details

@op(
    in_=In(str, description="Configuration details"),
    retry_policy=RetryPolicy(max_retries=1),
    required_resource_keys={"airflow_metastore", "email_alerts"}
)
def cleanup_airflow_metadb(context, config_details):
    """Cleans up the Airflow MetaDB."""
    context.log.info(f"Cleaning up Airflow MetaDB with config: {config_details}")
    # Perform cleanup logic here
    pass

# Job
@job(
    name="print_configuration_pipeline",
    description="No description provided.",
    executor_def=in_process_executor,
    resource_defs={
        "airflow_metastore": airflow_metastore,
        "airflow_variables": airflow_variables,
        "email_alerts": email_alerts,
        "io_manager": fs_io_manager
    }
)
def print_configuration_pipeline():
    """Dagster job for printing configuration and cleaning up Airflow MetaDB."""
    config_details = print_configuration()
    cleanup_airflow_metadb(config_details)

# Schedule
@schedule(
    job=print_configuration_pipeline,
    cron_schedule="@daily",
    execution_timezone="UTC",
    name="print_configuration_pipeline_schedule",
    description="Daily schedule for print_configuration_pipeline",
    should_execute=lambda: True,
    execution_time=None,
    execution_day=None,
    tags=None,
    default_status=True,
    execution_timezone="UTC",
    catchup=False
)
def print_configuration_pipeline_schedule(_context):
    return {}