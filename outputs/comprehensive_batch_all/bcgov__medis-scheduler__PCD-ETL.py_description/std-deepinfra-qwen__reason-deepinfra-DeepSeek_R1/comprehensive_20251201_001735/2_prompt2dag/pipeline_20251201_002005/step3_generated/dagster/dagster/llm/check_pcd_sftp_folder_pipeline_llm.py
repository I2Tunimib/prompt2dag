# Generated by Dagster Pipeline Generator
# Date: 2023-10-05
# Description: Comprehensive Pipeline Description
# Pattern: sequential
# Executor: k8s_job_executor
# IO Manager: fs_io_manager
# Dagster Version: 1.5.0

from dagster import (
    job,
    op,
    In,
    Out,
    RetryPolicy,
    fs_io_manager,
    k8s_job_executor,
    in_process_executor,
    resource,
)

@resource
def sftp_folder_check():
    """SFTP Folder Check Resource"""
    pass

@resource
def shared_folder_check():
    """Shared Folder Check Resource"""
    pass

@resource
def financial_expense_api():
    """Financial Expense API Resource"""
    pass

@resource
def upcc_financial_reporting_api():
    """UPCC Financial Reporting API Resource"""
    pass

@resource
def chc_financial_reporting_api():
    """CHC Financial Reporting API Resource"""
    pass

@resource
def pcn_financial_reporting_api():
    """PCN Financial Reporting API Resource"""
    pass

@resource
def nppcc_financial_reporting_api():
    """NPPCC Financial Reporting API Resource"""
    pass

@resource
def fiscal_year_reporting_dates_api():
    """Fiscal Year Reporting Dates API Resource"""
    pass

@resource
def upcc_patient_services_api():
    """UPCC Patient Services API Resource"""
    pass

@resource
def chc_patient_services_api():
    """CHC Patient Services API Resource"""
    pass

@resource
def practitioner_role_mapping_api():
    """Practitioner Role Mapping API Resource"""
    pass

@resource
def status_tracker_api():
    """Status Tracker API Resource"""
    pass

@resource
def hr_records_api():
    """HR Records API Resource"""
    pass

@resource
def provincial_risk_tracking_api():
    """Provincial Risk Tracking API Resource"""
    pass

@resource
def decision_log_api():
    """Decision Log API Resource"""
    pass

@resource
def ha_hierarchy_api():
    """Health Authority Hierarchy API Resource"""
    pass

@resource
def uppc_budget_api():
    """UPPC Budget API Resource"""
    pass

@resource
def chc_budget_api():
    """CHC Budget API Resource"""
    pass

@resource
def pcn_budget_api():
    """PCN Budget API Resource"""
    pass

@resource
def nppcc_budget_api():
    """NPPCC Budget API Resource"""
    pass

@resource
def etl_notification_email():
    """ETL Notification Email Resource"""
    pass

@op(
    required_resource_keys={"sftp_folder_check"},
    out={"sftp_folder_status": Out()},
    retry_policy=RetryPolicy(max_retries=0),
)
def check_pcd_sftp_folder(context):
    """Check PCD SFTP Folder"""
    # Logic to check SFTP folder
    return {"sftp_folder_status": "checked"}

@op(
    required_resource_keys={"shared_folder_check"},
    out={"shared_folder_status": Out()},
    retry_policy=RetryPolicy(max_retries=0),
)
def check_pcd_shared_folder(context, sftp_folder_status):
    """Check PCD Shared Folder"""
    # Logic to check shared folder
    return {"shared_folder_status": "checked"}

@op(
    out={"extract_1_status": Out()},
    retry_policy=RetryPolicy(max_retries=0),
)
def start_pcd_extract_1(context, shared_folder_status):
    """Start PCD Extract 1"""
    # Logic to start PCD extract 1
    return {"extract_1_status": "started"}

@op(
    out={"api_extraction_status": Out()},
    retry_policy=RetryPolicy(max_retries=0),
)
def parallel_http_api_extraction(context, extract_1_status):
    """Parallel HTTP API Extraction"""
    # Logic to perform parallel HTTP API extraction
    return {"api_extraction_status": "extracted"}

@op(
    out={"extract_2_status": Out()},
    retry_policy=RetryPolicy(max_retries=0),
)
def start_pcd_extract_2(context, api_extraction_status):
    """Start PCD Extract 2"""
    # Logic to start PCD extract 2
    return {"extract_2_status": "started"}

@op(
    required_resource_keys={"sftp_folder_check"},
    out={"file_upload_status": Out()},
    retry_policy=RetryPolicy(max_retries=0),
)
def pcd_file_upload(context, extract_2_status):
    """PCD File Upload"""
    # Logic to upload PCD file
    return {"file_upload_status": "uploaded"}

@op(
    required_resource_keys={"etl_notification_email"},
    out={"notification_status": Out()},
    retry_policy=RetryPolicy(max_retries=0),
)
def etl_notification(context, file_upload_status):
    """ETL Notification"""
    # Logic to send ETL notification
    return {"notification_status": "notified"}

@job(
    name="check_pcd_sftp_folder_pipeline",
    description="Comprehensive Pipeline Description",
    executor_def=k8s_job_executor,
    resource_defs={
        "sftp_folder_check": sftp_folder_check,
        "shared_folder_check": shared_folder_check,
        "financial_expense_api": financial_expense_api,
        "upcc_financial_reporting_api": upcc_financial_reporting_api,
        "chc_financial_reporting_api": chc_financial_reporting_api,
        "pcn_financial_reporting_api": pcn_financial_reporting_api,
        "nppcc_financial_reporting_api": nppcc_financial_reporting_api,
        "fiscal_year_reporting_dates_api": fiscal_year_reporting_dates_api,
        "upcc_patient_services_api": upcc_patient_services_api,
        "chc_patient_services_api": chc_patient_services_api,
        "practitioner_role_mapping_api": practitioner_role_mapping_api,
        "status_tracker_api": status_tracker_api,
        "hr_records_api": hr_records_api,
        "provincial_risk_tracking_api": provincial_risk_tracking_api,
        "decision_log_api": decision_log_api,
        "ha_hierarchy_api": ha_hierarchy_api,
        "uppc_budget_api": uppc_budget_api,
        "chc_budget_api": chc_budget_api,
        "pcn_budget_api": pcn_budget_api,
        "nppcc_budget_api": nppcc_budget_api,
        "etl_notification_email": etl_notification_email,
    },
)
def check_pcd_sftp_folder_pipeline():
    """Comprehensive Pipeline for PCD SFTP Folder Check and ETL Process"""
    sftp_folder_status = check_pcd_sftp_folder()
    shared_folder_status = check_pcd_shared_folder(sftp_folder_status)
    extract_1_status = start_pcd_extract_1(shared_folder_status)
    api_extraction_status = parallel_http_api_extraction(extract_1_status)
    extract_2_status = start_pcd_extract_2(api_extraction_status)
    file_upload_status = pcd_file_upload(extract_2_status)
    etl_notification(file_upload_status)