# Generated by Dagster Code Generator
# Generation Metadata:
# - Date: 2023-10-05
# - Dagster Version: 1.5.0
# - Pipeline Name: check_pcd_sftp_folder_pipeline
# - Description: Comprehensive Pipeline Description for PCD (Primary Care Data) processing

from dagster import (
    job,
    op,
    Out,
    In,
    RetryPolicy,
    k8s_job_executor,
    in_process_executor,
    fs_io_manager,
    resource,
)

@resource
def airflow_email(context):
    """Resource for sending emails via Airflow."""
    pass

@resource
def kubernetes_cluster(context):
    """Resource for interacting with the Kubernetes cluster."""
    pass

@op(
    name="check_pcd_sftp_folder",
    description="Check PCD SFTP Folder",
    executor_def=k8s_job_executor,
    retry_policy=RetryPolicy(max_retries=0),
)
def check_pcd_sftp_folder(context):
    """Check the PCD SFTP folder for new files."""
    # Implementation logic here
    pass

@op(
    name="check_pcd_shared_folder",
    description="Check PCD Shared Folder",
    executor_def=k8s_job_executor,
    retry_policy=RetryPolicy(max_retries=0),
)
def check_pcd_shared_folder(context, sftp_folder_status):
    """Check the PCD shared folder for new files."""
    # Implementation logic here
    pass

@op(
    name="start_pcd_extract_1",
    description="Start PCD Extract 1",
    executor_def=in_process_executor,
    retry_policy=RetryPolicy(max_retries=0),
)
def start_pcd_extract_1(context, shared_folder_status):
    """Start the first PCD extract process."""
    # Implementation logic here
    pass

@op(
    name="parallel_http_api_extraction",
    description="Parallel HTTP API Extraction",
    executor_def=in_process_executor,
    retry_policy=RetryPolicy(max_retries=0),
)
def parallel_http_api_extraction(context, extract_1_status):
    """Perform parallel HTTP API extraction."""
    # Implementation logic here
    pass

@op(
    name="start_pcd_extract_2",
    description="Start PCD Extract 2",
    executor_def=in_process_executor,
    retry_policy=RetryPolicy(max_retries=0),
)
def start_pcd_extract_2(context, api_extraction_status):
    """Start the second PCD extract process."""
    # Implementation logic here
    pass

@op(
    name="pcd_file_upload",
    description="PCD File Upload",
    executor_def=k8s_job_executor,
    retry_policy=RetryPolicy(max_retries=0),
)
def pcd_file_upload(context, extract_2_status):
    """Upload the PCD files to the destination."""
    # Implementation logic here
    pass

@op(
    name="etl_notification",
    description="ETL Notification",
    executor_def=in_process_executor,
    retry_policy=RetryPolicy(max_retries=0),
)
def etl_notification(context, file_upload_status):
    """Send a notification upon successful ETL completion."""
    # Implementation logic here
    pass

@job(
    name="check_pcd_sftp_folder_pipeline",
    description="Comprehensive Pipeline Description for PCD (Primary Care Data) processing",
    executor_def=k8s_job_executor,
    resource_defs={
        "airflow_email": airflow_email,
        "kubernetes_cluster": kubernetes_cluster,
    },
    io_manager_def=fs_io_manager,
)
def check_pcd_sftp_folder_pipeline():
    """Dagster job for PCD data processing."""
    sftp_folder_status = check_pcd_sftp_folder()
    shared_folder_status = check_pcd_shared_folder(sftp_folder_status)
    extract_1_status = start_pcd_extract_1(shared_folder_status)
    api_extraction_status = parallel_http_api_extraction(extract_1_status)
    extract_2_status = start_pcd_extract_2(api_extraction_status)
    file_upload_status = pcd_file_upload(extract_2_status)
    etl_notification(file_upload_status)