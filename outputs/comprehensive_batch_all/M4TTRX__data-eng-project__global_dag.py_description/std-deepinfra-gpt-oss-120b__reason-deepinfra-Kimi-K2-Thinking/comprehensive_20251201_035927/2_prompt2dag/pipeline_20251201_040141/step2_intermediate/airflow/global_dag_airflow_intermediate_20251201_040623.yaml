metadata:
  target_orchestrator: airflow
  generated_at: 2025-12-01 04:06:23.404792
  source_analysis_file: Pipeline_Description_Dataset/M4TTRX__data-eng-project__global_dag.py_description.txt
  pipeline_name: global_dag
  pipeline_description: ETL pipeline that processes French government death records and power plant data using a staged 
    ETL pattern with fan‑out/fan‑in parallelism, conditional branching, and PostgreSQL loading.
  orchestrator_specific: {}
schedule:
  enabled: false
  schedule_expression:
  start_date:
  end_date:
  timezone: UTC
  catchup: false
connections:
  - conn_id: city_geo_api
    conn_type: http
    description: City Geographic Data API (static.data.gouv.fr)
    config:
      base_path:
      base_url: https://static.data.gouv.fr/geo/cities.csv
      host:
      port:
      protocol: https
      database:
      schema:
      bucket:
      queue_name:
  - conn_id: nuclear_plants_api
    conn_type: http
    description: Nuclear Power Plant Dataset API (data.gouv.fr)
    config:
      base_path:
      base_url: https://www.data.gouv.fr/api/3/datasets/nuclear-plants
      host:
      port:
      protocol: https
      database:
      schema:
      bucket:
      queue_name:
  - conn_id: thermal_plants_api
    conn_type: http
    description: Thermal Power Plant Dataset API (data.gouv.fr)
    config:
      base_path:
      base_url: https://www.data.gouv.fr/api/3/datasets/thermal-plants
      host:
      port:
      protocol: https
      database:
      schema:
      bucket:
      queue_name:
  - conn_id: death_records_api
    conn_type: http
    description: Death Records Dataset API (data.gouv.fr)
    config:
      base_path:
      base_url: https://www.data.gouv.fr/api/3/datasets/death-records
      host:
      port:
      protocol: https
      database:
      schema:
      bucket:
      queue_name:
  - conn_id: redis_cache
    conn_type: generic
    description: Redis Cache (host=redis, port=6379)
    config:
      base_path:
      base_url:
      host: redis
      port: 6379
      protocol: redis
      database:
      schema:
      bucket:
      queue_name:
  - conn_id: postgres_db
    conn_type: generic
    description: PostgreSQL Database (postgres_default)
    config:
      base_path:
      base_url:
      host:
      port:
      protocol: postgresql
      database: postgres
      schema:
      bucket:
      queue_name:
      login: POSTGRES_USER
      password: POSTGRES_PASSWORD
  - conn_id: filesystem_ingestion
    conn_type: fs
    description: Local Ingestion Filesystem
    config:
      base_path: /opt/airflow/dags/data/ingestion/
      base_url:
      host:
      port:
      protocol: file
      database:
      schema:
      bucket:
      queue_name:
  - conn_id: filesystem_staging
    conn_type: fs
    description: Local Staging Filesystem
    config:
      base_path: /opt/airflow/dags/data/staging/
      base_url:
      host:
      port:
      protocol: file
      database:
      schema:
      bucket:
      queue_name:
  - conn_id: filesystem_sql_tmp
    conn_type: fs
    description: Local SQL Temporary Filesystem
    config:
      base_path: /opt/airflow/dags/sql/tmp/
      base_url:
      host:
      port:
      protocol: file
      database:
      schema:
      bucket:
      queue_name:
tasks: []
